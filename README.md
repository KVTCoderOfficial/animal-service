# animal-service

Приложение реализовывает такие сервисы: 

- создание пользователя с (регистрация).

создается пользователь с именем и паролем.

имя уникально.

сразу после создания текущий пользователь авторизовывается в том же запросе.

- не зарегистрированный пользователь имеет возможность проверить доступность имени через сервис (валидации).

- созданный в системе пользователь имеет возможность авторизоваться, передав в сервис имя и пароль.

количество неудачных попыток авторизации - не превышает 10 за 1 час и сбрасывается при успешной авторизации.

авторизованный пользователь имеет возможность 

- создавать/редактировать/удалить животных [вид(из списка-справочника), дата рождения, пол, кличка(уникальна)].

- получить список своих животных.

- получить детали любого животного по id.

все взаимодействие происходит с использованием JSON форамата данных.

все ошибки имеют номера и текстовую расшифровку. 

ошибки, в случае возникновениЯ, передаются в виде JSON объекта.

в качестве базы данных взято PostgreSQL


Для запуска программы:

1)Поднимите базу данных PostgreSQL;

2)Сделайте сборку проекта (mvn clean package), проект будет находиться в папке target с названием animal-service-0.0.1-SNAPSHOT.jar;

3)Запустите приложение, указав начальные параметры:

DB_URL=(адрес вашей базы данных PostgreSQL) - обязательный параметр

DB_USERNAME=(логин вашей базы данных PostgreSQL) - обязательный параметр

DB_PASSWORD=(пароль вашей базы данных PostgreSQL) - обязательный параметр

JWT_SECRET=(секретное слово для JWT-токена) - обязательный параметр

JWT_LIFETIME=(время жизни JWT-токена в миллисекундах) - необязательный параметр, по умолчанию равен 3600000 (1 час)

AUTH_ATTEMPTS_LIMIT=(количество допустимых попыток для авторизации) - необязательный параметр, по умолчанию равен 10

AUTH_ATTEMPTS_LIMIT_TIME_FRAME=(предел по времени для попыток авторизации) - необязательный параметр, по умолчанию равен 3600000 (1 час)

При использовании консоли, зайдите в папку с файлом animal-service-0.0.1-SNAPSHOT.jar и выполните команду

java -jar -DDB_URL=(адрес вашей базы данных PostgreSQL) -DDB_USERNAME=(логин вашей базы данных PostgreSQL) -DDB_PASSWORD=(пароль вашей базы данных PostgreSQL) -DJWT_SECRET=(секретное слово для JWT-токена) animal-service-0.0.1-SNAPSHOT.jar

Со всеми параметрами:

java -jar -DDB_URL=(адрес вашей базы данных PostgreSQL) -DDB_USERNAME=(логин вашей базы данных PostgreSQL) -DDB_PASSWORD=(пароль вашей базы данных PostgreSQL) -DJWT_SECRET=(секретное слово для JWT-токена) -DJWT_LIFETIME=(время жизни JWT-токена в миллисекундах) -DAUTH_ATTEMPTS_LIMIT=(количество допустимых попыток для авторизации) -DAUTH_ATTEMPTS_LIMIT_TIME_FRAME=(предел по времени для попыток авторизации) animal-service-0.0.1-SNAPSHOT.jar

Пример:

java -jar -DDB_URL=jdbc:postgresql://localhost:5432/postgres?currentSchema=animal_service -DDB_USERNAME=postgres -DDB_PASSWORD=postgres -DJWT_SECRET=secret -DJWT_LIFETIME=3600000 -DAUTH_ATTEMPTS_LIMIT=10 -DAUTH_ATTEMPTS_LIMIT_TIME_FRAME=3600000 animal-service-0.0.1-SNAPSHOT.jar
